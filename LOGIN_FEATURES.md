# PACMC Financial Management System - Login Features

## 概述
PACMC财务管理系统现在支持多种登录方式，包括用户名密码登录和Google登录。

## 登录功能

### 1. 用户名密码登录
- **邮箱登录**: 用户可以使用邮箱地址和密码登录
- **密码验证**: 支持密码强度验证和错误提示
- **记住登录状态**: 自动保持登录状态

### 2. 用户注册
- **新用户注册**: 支持新用户通过邮箱注册账户
- **信息验证**: 
  - 邮箱格式验证
  - 密码强度要求（最少6个字符）
  - 密码确认匹配验证
- **自动角色分配**: 新注册用户默认为"Basic User"角色

### 3. 忘记密码
- **密码重置**: 用户可以通过邮箱重置密码
- **重置链接**: 系统发送密码重置链接到用户邮箱
- **安全验证**: 验证邮箱地址是否存在

### 4. Google登录
- **Google OAuth**: 支持Google账户一键登录
- **自动账户创建**: 首次Google登录自动创建用户账户
- **角色管理**: 支持基于邮箱的角色分配

## 用户角色系统

### 角色类型
1. **Super Admin** (超级管理员)
   - 完全系统访问权限
   - 可以管理所有用户
   - 可以修改用户角色

2. **Admin** (管理员)
   - 高级管理权限
   - 可以查看和管理用户

3. **Basic User** (基础用户)
   - 标准用户权限
   - 可以查看和添加财务记录

### 角色分配规则
- 新注册用户默认为"Basic User"
- 特定邮箱地址自动分配为"Super Admin"
- 管理员可以手动修改用户角色

## 安全特性

### 密码安全
- 密码最小长度：6个字符
- 密码确认验证
- 密码重置功能

### 错误处理
- 详细的错误信息提示
- 用户友好的错误消息
- 防止暴力破解（请求限制）

### 数据保护
- Firebase Authentication安全认证
- 用户数据加密存储
- 安全的密码重置流程

## 用户界面特性

### 响应式设计
- 支持桌面和移动设备
- 自适应布局
- 触摸友好的界面

### 动画效果
- 平滑的页面过渡
- 加载动画
- 交互反馈

### 深色模式支持
- 自动适应系统主题
- 完整的深色模式样式
- 可访问性优化

## 技术实现

### 前端技术
- React 19
- Next.js 15
- TypeScript
- Tailwind CSS

### 后端服务
- Firebase Authentication
- Firestore数据库
- Google OAuth

### 状态管理
- React Context API
- 实时认证状态同步

## 使用说明

### 首次使用
1. 访问系统首页
2. 选择"Register"标签
3. 填写用户信息并创建账户
4. 使用新账户登录

### 登录流程
1. 在登录页面输入邮箱和密码
2. 点击"Sign In"按钮
3. 或选择"Continue with Google"使用Google账户登录

### 密码重置
1. 在登录页面点击"Forgot password?"
2. 输入注册邮箱地址
3. 检查邮箱并点击重置链接
4. 设置新密码

## 故障排除

### 常见问题
1. **登录失败**: 检查邮箱和密码是否正确
2. **注册失败**: 确保邮箱格式正确且未被使用
3. **密码重置**: 检查邮箱是否收到重置链接

### 技术支持
如有问题，请联系系统管理员或技术支持团队。 